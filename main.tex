\documentclass[letterpaper]{book}
\usepackage[spanish,es-noshorthands,es-tabla,es-lcroman]{babel}

%------------------------------------------------------------------------------
%	 PAQUETES Y CONFIGURACIONES
%------------------------------------------------------------------------------

\usepackage{graphicx} % Para incluir imágenes
\usepackage{subfig} % Para subfiguras o figuras más complejas

\usepackage[rightcaption]{sidecap}

\usepackage{wrapfig}

\graphicspath{{Images/}} % En caso de ser necesario, especifica el directorio donde se almacenan las figuras/imágenes

\usepackage{float} % Permite colocar "flotadores" con mayor precisión, p. \begin{figure}[h!]

\usepackage[x11names, usenames, svgnames, table]{xcolor} % Sirve para definir y usar colores propios/personalizados

\definecolor{jblueleft}{RGB}{0,79,144} % Color primario
\definecolor{jblueinner}{RGB}{240,248,255} % Color secundario

\usepackage{listings}

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{mystyle}{
  backgroundcolor=\color{jblueinner},   commentstyle=\color{codegreen},
  keywordstyle=\color{blue},
  numberstyle=\tiny\color{codegray},
  stringstyle=\color{jblueleft},
  basicstyle=\ttfamily\footnotesize,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=b,                    
  keepspaces=true,                 
  numbers=left,                    
  numbersep=5pt,                  
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}

%"mystyle" code listing set
\lstset{style=mystyle}

\usepackage{calc} % Para cálculos simples (se utiliza para espaciar correctamente los encabezados de las letras del índice)

\usepackage{changepage} % Requerido para sangrar bloques de texto temporalmente

\usepackage[toc,title,titletoc,header]{appendix} % Requerido para los capítulos de los apéndices

\usepackage{etoolbox} % Para lógica condicional y comandos que cambian fácilmente

%------------------------------------------------------------------------------
%	MÁRGENES
%------------------------------------------------------------------------------

\usepackage[top=3cm,bottom=3cm,left=3.2cm,right=3.2cm,headsep=10pt,letterpaper]{geometry} % Dimensiones de la hoja

%------------------------------------------------------------------------------
%	FUENTES PARA LETRA
%------------------------------------------------------------------------------

%\usepackage[utf8]{inputenc} % Para escribir caracteres internacionales
%\usepackage[T1]{fontenc} % Codificación de fuente de salida para caracteres internacionales

%\usepackage{avant} % Usa la fuente Avantgarde para encabezados

%\usepackage{mathptmx} % Utilice Adobe Times Roman como fuente de texto predeterminada junto con símbolos matemáticos de las fuentes Symbol, Chancery y Computer Modern

%\usepackage{microtype} % Mejorar la tipografía

\usepackage{cmbright}

\usepackage[bbgreekl]{mathbbol}

%------------------------------------------------------------------------------
%	ENCABEZADOS Y PIES DE PAGINA
%------------------------------------------------------------------------------

\usepackage{fancyhdr}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{0pt}
\fancyhf{}
\rhead[\bfseries{\hypersetup{hidelinks}\color{jblueleft}\hyperref[toc-contents]{\thepage}}]{\rightmark}
\lhead[\leftmark]{\bfseries\hypersetup{hidelinks}\color{jblueleft}\hyperref[toc-contents]{\thepage}}

\makeatletter
\def\chaptermark#1{\markboth{\protect\hyper@linkstart{link}{\@currentHref}{\bfseries\slshape\textcolor{jblueleft}{\chaptertitlename~\thechapter} #1}\protect\hyper@linkend}{}}
\def\sectionmark#1{\markright{\protect\hyper@linkstart{link}{\@currentHref}{\bfseries\slshape\textcolor{jblueleft}{\thesection} #1}\protect\hyper@linkend}}
\makeatother

\fancypagestyle{plain}{ % Estilo para cuando se especifica un estilo de página simple
	\fancyhead{} % Borrar encabezados
	\renewcommand{\headrulewidth}{0pt} % Eliminar línea de encabezado
}

\usepackage{emptypage} % Este paquete elimina encabezados y pies de página en páginas vacías entre capítulos. Importante para prólogos, introducción, etc.

\setlength{\headheight}{12.91669pt}


%-----------------------------------------------------------------------------
%   TABLA DE CONTENIDOS
%-----------------------------------------------------------------------------

\usepackage{titletoc}

\contentsmargin{0cm}

% Estilo de texto de parte
\titlecontents{part}[0cm]
{\addvspace{20pt}\centering\large\bfseries\color{white}}
{}
{}
{}

% Estilo de texto de capítulo
\titlecontents{chapter}[1.4cm] % Sangría
{\addvspace{12pt}\large\bfseries} % Opciones de espaciado y fuente para los capítulos
{\color{jblueleft}\contentslabel[\Large\thecontentslabel]{1cm}\color{jblueleft}} % Número de capítulo
{\color{jblueleft}}
{\color{jblueleft}\normalsize\;\titlerule*[.8pc]{.}\;\thecontentspage} % Número de página

% Estilo de texto de sección 
\titlecontents{section}[2.4cm] % Sangría
{\addvspace{3pt}} % Opciones de espaciado y fuente para las secciones
{\contentslabel[\thecontentslabel]{1cm}} % Número de sección
{}
{\normalsize\;\titlerule*[.8pc]{.}\;\thecontentspage} % Número de página
[]

% Estilo de texto de subsección 
\titlecontents{subsection}[3.4cm] % Sangría
{\addvspace{2pt}\small} % Opciones de espaciado y fuente para las secciones
{\contentslabel[\thecontentslabel]{1cm}} % Número de subsección
{}
{\ \titlerule*[.8pc]{.}\;\thecontentspage} % Número de página
[]

%------------------------------------------------------------------------------
%   NUMERACIÓN DE SECCIONES EN EL MARGEN
%------------------------------------------------------------------------------

\makeatletter
\renewcommand{\@seccntformat}[1]{\llap{\textcolor{jblueleft}{\csname the#1\endcsname}\hspace{1em}}}
\renewcommand{\section}{\@startsection{section}{1}{\z@}
{-4ex \@plus -1ex \@minus -.4ex}
{1ex \@plus.2ex }
{\Large\bfseries}}
\renewcommand{\subsection}{\@startsection {subsection}{2}{\z@}
{-3ex \@plus -0.1ex \@minus -.4ex}
{0.5ex \@plus.2ex }
{\large\bfseries}}
\renewcommand{\subsubsection}{\@startsection {subsubsection}{3}{\z@}
{-2ex \@plus -0.1ex \@minus -.2ex}
{.2ex \@plus.2ex }
{\normalsize\bfseries}}
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}
{-2ex \@plus-.2ex \@minus .2ex}
{.1ex}
{\small\bfseries}}

%------------------------------------------------------------------------------
%   TÍTULOS DE PARTE
%------------------------------------------------------------------------------

% parte numerada en la tabla de contenido
\newcommand{\@mypartnumtocformat}[2]{%
\setlength\fboxsep{0pt}%
\noindent\colorbox{jblueleft!20}{\strut\parbox[c][.8cm]{\ecart}{\color{jblueleft!70}\Large\bfseries\centering#1}}\hskip\esp\colorbox{jblueleft}{\strut\parbox[c][.8cm]{\linewidth-\ecart-\esp}{\Large\centering#2}}}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% parte no numerada en la tabla de contenido
\newcommand{\@myparttocformat}[1]{%
\setlength\fboxsep{0pt}%
\noindent\colorbox{jblueleft!40}{\strut\parbox[c][.8cm]{\linewidth}{\Large\centering#1}}}%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newlength\esp
\setlength\esp{4pt}
\newlength\ecart
\setlength\ecart{1.2cm-\esp}
\newcommand{\thepartimage}{}%
\newcommand{\partimage}[1]{\renewcommand{\thepartimage}{#1}}%
\def\@part[#1]#2{%
\ifnum \c@secnumdepth >-2\relax%
\refstepcounter{part}%
\addcontentsline{toc}{part}{\texorpdfstring{\protect\@mypartnumtocformat{\thepart}{#1}}{\partname~\thepart\ ---\ #1}}
\else%
\addcontentsline{toc}{part}{\texorpdfstring{\protect\@myparttocformat{#1}}{#1}}%
\fi%
\startcontents%
\markboth{}{}%
{\thispagestyle{empty}%
\begin{tikzpicture}[remember picture,overlay]%
\node at (current page.north west){\begin{tikzpicture}[remember picture,overlay]%   
\fill[jblueleft!20](0cm,0cm) rectangle (\paperwidth,-\paperheight);
\node[anchor=north west,inner sep=0pt,xshift=\Gm@lmargin/3,yshift=-3cm] at (current page.north west){\color{jblueleft}\scalebox{20}{\bfseries\@Roman\c@part}};
\node[anchor=south east] at (\paperwidth-1cm,-\paperheight+1cm){\parbox[t][][t]{12cm}{
\printcontents{l}{0}{\setcounter{tocdepth}{0}}%
}};
\node[anchor=north east] at (\paperwidth-1.5cm,-3.25cm){\parbox[t][][t]{15cm}{\strut\raggedleft\color{jblueleft}\fontsize{30}{30}\bfseries#2}};
\end{tikzpicture}};
\end{tikzpicture}}%
\@endpart}
\def\@spart#1{%
\startcontents%
\phantomsection
{\thispagestyle{empty}%
\begin{tikzpicture}[remember picture,overlay]%
\node at (current page.north west){\begin{tikzpicture}[remember picture,overlay]%   
\fill[DodgerBlue3!60](0cm,0cm) rectangle (\paperwidth,-\paperheight);
\node[anchor=north east] at (\paperwidth-1.75cm,-3.25cm){\parbox[t][][t]{15cm}{\strut\raggedleft\color{white}\scalebox{3.7}{\bfseries#1}}};
\end{tikzpicture}};
\end{tikzpicture}}
\addcontentsline{toc}{part}{\texorpdfstring{%
\setlength\fboxsep{0pt}%
\noindent\protect\colorbox{jblueleft!40}{\strut\protect\parbox[c][.7cm]{\linewidth}{\Large\protect\centering #1\quad\mbox{}}}}{#1}}%
\@endpart}
\def\@endpart{\vfil\newpage
\if@twoside
\if@openright
\null
\thispagestyle{empty}%
\newpage
\fi
\fi
\if@tempswa
\twocolumn
\fi}

%------------------------------------------------------------------------------
%	ESTILO DE SECCIÓN
%------------------------------------------------------------------------------

\setcounter{secnumdepth}{3} % Numere las secciones hasta las subsubsecciones, un valor de 2 enumerará solo las subsecciones y 1 solo las secciones

\usepackage[
	explicit, % Especifique los nombres de las secciones explícitamente en \titleformat con #1
	newparttoc, % Requerido para escribir el número de entrada de la tabla de contenido de una manera estándar (anulando el comportamiento predeterminado de LaTeX) para que el paquete titlesec pueda diseñarlo
]{titlesec} % Necesario para modificar secciones

\usepackage[explicit]{titlesec}

% Comando para almacenar la imagen del capítulo actual para usar en todos los capítulos futuros, se puede cambiar en cualquier momento en el documento y puede estar vacío
\newcommand{\thechapterimage}{}
\newcommand{\chapterimage}[1]{\renewcommand{\thechapterimage}{#1}}

% Comando para almacenar el espacio en blanco actual sobre el cuadro de título del capítulo para todos los capítulos futuros, se puede cambiar en cualquier momento en el documento
\newcommand{\thechapterspaceabove}{}
\newcommand{\chapterspaceabove}[1]{\renewcommand{\thechapterspaceabove}{#1}}

% Comando para almacenar el espacio en blanco actual debajo del cuadro de título del capítulo para todos los capítulos futuros, se puede cambiar en cualquier momento en el documento
\newcommand{\thechapterspacebelow}{}
\newcommand{\chapterspacebelow}[1]{\renewcommand{\thechapterspacebelow}{#1}}

% Comando para generar el título del capítulo con una imagen de fondo opcional
\newcommand{\outputchaptertitle}[2]{
	\begin{tikzpicture}[remember picture,overlay]
		% Si se ha especificado una imagen de capítulo
		\expandafter\ifstrequal\expandafter{\thechapterimage}{}{}{
			% Salida de la imagen del capítulo
			\node[
				anchor=north west, % Punto de anclaje en la imagen
				inner sep=0pt, % interior
			] at (current page.north west) {\includegraphics[width=\paperwidth]{\thechapterimage}};
		}
		% Recuadro con el título del capítulo
		\draw[anchor=west] (current page.north west) node [
			anchor=north west, % Punto de anclaje del cuadro de capítulo
			xshift=\Gm@lmargin, % Distancia horizontal desde el lado izquierdo de la página
			yshift=-\thechapterspaceabove, % Distancia vertical desde la parte superior de la página
			line width=2pt, % Grosor de la línea de borde
			rounded corners=10pt, % Cantidad de esquinas redondeadas
			draw=jblueleft, % Color de la línea del borde
			fill=black!5, % Color de fondo de la caja
			fill opacity=0.6, % Transparencia de fondo
			text opacity=1, % Transparencia de texto
			inner ysep=12.5pt, % 'Fondo' vertical interior
			inner xsep=20pt, % 'Fondo' horizontal interior
			align=flush left, % Alineación de texto dentro del cuadro
			text width=1.2\linewidth, % Ancho del cuadro (más ancho que la página para salir del lado derecho)
			font=\huge\sffamily\bfseries, % Estilo de fuente para el título del capítulo
		] {\parbox{0.85\linewidth}{\strut\raggedright\expandafter\ifstrequal\expandafter{#1}{}{}{#1. }#2\vspace{-3pt}}}; % Título del capítulo en un cuadro de ancho fijo para envolver
	\end{tikzpicture}
}

% Capítulos numerados
\titleformat
	{\chapter} % Tipo de sección que se está modificando
	[block] % Tipo de forma, puede ser: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
	{\outputchaptertitle{\thechapter}{#1}} % Formato de toda la sección
	{} % Formato de la etiqueta de la sección
	{0cm} % Espacio entre el título y la etiqueta
	{} % Código antes de la etiqueta
	[] % Código después de la etiqueta

\titleformat
	{name=\chapter, numberless} % Tipo de sección que se está modificando
	[block] % Tipo de forma, puede ser: hang, block, display, runin, leftmargin, rightmargin, drop, wrap, frame
	{\outputchaptertitle{}{#1}} % Formato de toda la sección
	{} % Formato de la etiqueta de la sección
	{0cm} % Espacio entre el título y la etiqueta
	{} % Código antes de la etiqueta
	[] % Código después de la etiqueta

\titlespacing*{\chapter}{0pt}{0pt}{\thechapterspacebelow} % Espaciando los títulos de las secciones, el orden es: left, before and after

%------------------------------------------------------------------------------
%	BIBLIOGRAFÍA
%------------------------------------------------------------------------------

\usepackage[
	backend=biber, % Utilizar el motor biber para compilar la bibliografía
	bibstyle=numeric, % Estilo de la bibliografía principal
	citestyle=numeric, % Estilo de cita en el texto
	sorting=nyt, % Ordene las referencias en la bibliografía por nombre, luego año, luego título
	sortcites=true, % Si se pasan varias claves de cita a un comando de cita, ordénelas en la cita
	abbreviate=false, % Quita abreviaturas como "Ed". para el redactor
	backref=true, % Enumere la página donde se citan las referencias en la bibliografía
	defernumbers=true,
]{biblatex}

\defbibheading{bibempty}{} % Quita los encabezados de bibliografía predeterminados

\usepackage{csquotes}

%------------------------------------------------------------------------------
%	ÍNDICE
%------------------------------------------------------------------------------

\usepackage{makeidx} % Requerido para hacer un índice

\makeindex % Le dice a LaTeX que cree los archivos necesarios para la 'indexación'.

% Modifique el comando para generar el índice para generar el nombre de índice con el estilo correcto en los encabezados de página
\patchcmd{\theindex}
	{\MakeUppercase\indexname} % Encuentra
	{\sffamily\normalsize\bfseries\indexname} % Remplaza
	{}
	{}

%------------------------------------------------------------------------------
%	 TABLAS
%------------------------------------------------------------------------------

\usepackage{array} % Necesario para manipular elementos de las tablas

\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}} % Definir un nuevo tipo de columna de párrafo alineado a la derecha
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}} % Definir un nuevo tipo de columna de párrafo alineado a la izquierda (sin justificación)
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}} % Definir un nuevo tipo de columna de párrafo centrado

\usepackage{booktabs} % Requerido para lineas horizontales de alta calidad en tablas

%------------------------------------------------------------------------------
%	 LISTAS
%------------------------------------------------------------------------------

\usepackage{enumitem} % Requerido para la personalización de las listas

%------------------------------------------------------------------------------
%	ENLACES
%------------------------------------------------------------------------------

\usepackage{hyperref}
\hypersetup{hidelinks,
            %colorlinks=true,
            %linkcolor = jblueleft,
            breaklinks=true,
            urlcolor=blue,
            citecolor = blue,
            bookmarksopen=false,
            pdftitle={Matemáticas Discretas},
            pdfauthor={Antonio M. Mendoza}
}

%------------------------------------------------------------------------------
%	MARCADORES
%------------------------------------------------------------------------------

\usepackage{bookmark} % Requerido para personalizar marcadores de PDF

\bookmarksetup{
	open, % Abre todos los marcadores automáticamente
	numbered, % Agregar números de sección a marcadores
	addtohook={%
		\ifnum\bookmarkget{level}=-1 % Personalizar marcadores de partes
			\bookmarksetup{color=jblueleft, bold}% Negrita y coloreada
		\fi
		\ifnum\bookmarkget{level}=0 % Personalizar marcadores de capítulos
			\bookmarksetup{bold}% Negrita
		\fi
	}
}

%------------------------------------------------------------------------------
%	PAGINA DEL TITULO
%------------------------------------------------------------------------------

\renewcommand{\titlepage}[2]{
	\thispagestyle{empty} % Quita los encabezados y pies de página en la página del título

	\begin{tikzpicture}[remember picture, overlay]
		\node [inner sep=0pt] at (current page.center) {#1}; % Imagen de fondo
		\node [anchor=center, inner sep=1.25cm, rectangle, fill=jblueleft!30!white, fill opacity=0.6, text opacity=1, minimum height=0.2\paperheight, minimum width=\paperwidth, text width=0.8\paperwidth] at (current page.center) {#2}; % Cuadro de fondo que viene dado con el/los título(s) y autor(es)
	\end{tikzpicture}
	
	\newpage
}

%------------------------------------------------------------------------------
%	MATEMÁTICAS
%------------------------------------------------------------------------------

\usepackage{amsmath,amsthm,amssymb,mathrsfs,amsfonts,dsfont} % Para ecuaciones matemáticas, teoremas, símbolos, etc.

% number sets
\newcommand{\RR}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{R}}{\mathbb{R}^{#1}}}}
\newcommand{\NN}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{N}}{\mathbb{N}^{#1}}}}
\newcommand{\ZZ}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{Z}}{\mathbb{Z}^{#1}}}}
\newcommand{\QQ}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{Q}}{\mathbb{Q}^{#1}}}}
\newcommand{\CC}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{C}}{\mathbb{C}^{#1}}}}
\newcommand{\PP}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{P}}{\mathbb{P}^{#1}}}}
\newcommand{\HH}[1][]{\ensuremath{\ifstrempty{#1}{\mathbb{H}}{\mathbb{H}^{#1}}}}
\newcommand{\dd}[1][]{\ensuremath{\ifstrempty{#1}{\operatorname{d}}{\frac{\operatorname{d}}{\operatorname{d} #1}}}}
% valor esperado
\newcommand{\EE}{\ensuremath{\mathbb{E}}}

% otros
\DeclareMathOperator{\Lap}{\mathcal{L}}
\DeclareMathOperator{\Var}{Var} % varience
\DeclareMathOperator{\Cov}{Cov} % covarience
\DeclareMathOperator{\E}{E} % expected
\DeclareMathOperator{\card}{card} % cardinalidad

\newcommand{\nrelacion}{\hspace{-0.55pt} \!\not\!\! R} % no relación

\newcommand{\ndivide}{\!\!\not| \,} % no divide

%------------------------------------------------------------------------------
%	ESTILOS DE TEOREMAS
%------------------------------------------------------------------------------

\newtheoremstyle{myplain}
  {1.2\topsep}   % ABOVESPACE
  {1.2\topsep}   % BELOWSPACE
  {}  % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {:}         % HEADPUNCT
  {5pt plus 1pt minus 1pt} % HEADSPACE
  {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}%                                     % Theorem head spec (can be left empty, meaning `normal')

\theoremstyle{myplain}
\newtheorem{lemma}{\color{jblueleft}Lema}[section]
\newtheorem{corollary}{\color{jblueleft}Corolario}[section]

%------------------------------------------------------------------------------
%	TEOREMAS EN CAJAS DE COLORES
%------------------------------------------------------------------------------

\usepackage[most]{tcolorbox}
\tcbuselibrary{skins}
\tcbuselibrary{listings,breakable}
\tcbuselibrary{documentation}
\usetikzlibrary{shadings}

\newcounter{example}[section]
\newtcolorbox[use counter=example]{myexample}{%
empty,title={Ejemplo \thesection.\thetcbcounter:},attach boxed title to top left,
boxed title style={empty,size=minimal,toprule=2pt,top=4pt,
overlay={\draw[jblueleft,line width=2pt]
([yshift=-1pt]frame.north west)--([yshift=-1pt]frame.north east);}},
coltitle=jblueleft,fonttitle=\Large\bfseries,
before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=0pt,right=3mm,top=4pt,
breakable,pad at break*=0mm,vfill before first,
overlay unbroken={\draw[jblueleft,line width=1pt]
([yshift=-1pt]title.north east)--([xshift=-0.5pt,yshift=-1pt]title.north-|frame.east)
--([xshift=-0.5pt]frame.south east)--(frame.south west); },
overlay first={\draw[jblueleft,line width=1pt]
([yshift=-1pt]title.north east)--([xshift=-0.5pt,yshift=-1pt]title.north-|frame.east)
--([xshift=-0.5pt]frame.south east); },
overlay middle={\draw[jblueleft,line width=1pt] ([xshift=-0.5pt]frame.north east)
--([xshift=-0.5pt]frame.south east); },
overlay last={\draw[jblueleft,line width=1pt] ([xshift=-0.5pt]frame.north east)
--([xshift=-0.5pt]frame.south east)--(frame.south west);},%
}

\newcounter{examples}
\newtcolorbox[use counter=example]{myexamples}{%
empty,title={Ejemplos \thesection.\thetcbcounter:},attach boxed title to top left,
boxed title style={empty,size=minimal,toprule=2pt,top=4pt,
overlay={\draw[jblueleft,line width=2pt]
([yshift=-1pt]frame.north west)--([yshift=-1pt]frame.north east);}},
coltitle=jblueleft,fonttitle=\Large\bfseries,
before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=0pt,right=3mm,top=4pt,
breakable,pad at break*=0mm,vfill before first,
overlay unbroken={\draw[jblueleft,line width=1pt]
([yshift=-1pt]title.north east)--([xshift=-0.5pt,yshift=-1pt]title.north-|frame.east)
--([xshift=-0.5pt]frame.south east)--(frame.south west); },
overlay first={\draw[jblueleft,line width=1pt]
([yshift=-1pt]title.north east)--([xshift=-0.5pt,yshift=-1pt]title.north-|frame.east)
--([xshift=-0.5pt]frame.south east); },
overlay middle={\draw[jblueleft,line width=1pt] ([xshift=-0.5pt]frame.north east)
--([xshift=-0.5pt]frame.south east); },
overlay last={\draw[jblueleft,line width=1pt] ([xshift=-0.5pt]frame.north east)
--([xshift=-0.5pt]frame.south east)--(frame.south west);},%
}

\newtcbtheorem[number within=section]{obs}{}{
      theorem style=change apart,
      enhanced,
      frame hidden,interior hidden,
      sharp corners,
      breakable,
      boxrule=0pt,
      left=0.2cm,right=0.2cm,top=0.2cm,
      toptitle=0.1cm+1pt,
      bottomtitle=-0.1cm+0.5em,
      colframe=jblueleft,
      colback=white,coltitle=white,
      title style=jblueleft,
      bottomrule=1pt,
      borderline south={1pt}{0pt}{jblueleft},
      before title={Observación~},
      after title={:},
      fonttitle=\bfseries,fontupper=\normalsize}{obs}

\newtcbtheorem[number within=section]{prop}{}{
      theorem style=change apart,
      enhanced,
      lower separated=false,
      colback=jblueinner,
      colframe=white,
      fonttitle=\bfseries,
      colbacktitle=jblueleft,
      coltitle=white,
      breakable,
      attach boxed title to top left={xshift=0.5cm,yshift=-2mm},
      before title={Proposición~},
      after title={:},
      fonttitle=\bfseries,fontupper=\normalsize}{prop}

\newtcbtheorem[number within=section]{axio}{}{
      theorem style=change apart,
      colback=jblueinner,
      colframe=jblueleft,
      coltitle=white,
      breakable,
      toprule=3pt,
      leftrule=2pt,
      rightrule=2pt,
      titlerule=0pt,
      before title={Axioma~},
      after title={:},
      fonttitle=\bfseries,fontupper=\normalsize}{axio}

\newtcbtheorem[number within=section]{definicion}{}{
      theorem style=change break,
      enhanced,
      breakable,
      boxrule=0pt,
      frame hidden,
      borderline west={3pt}{0pt}{jblueleft},
      colback=jblueinner,
      coltitle=jblueleft,
      attach title to upper={\ },
      sharp corners,
      before title={Definición~},
      fonttitle=\bfseries,fontupper=\normalsize}{definicion}

\newtcbtheorem[number within=section]{theorem}{}{
      lower separated=false,
      theorem style=change apart,
      sharp corners,
      colback=jblueinner,
      colframe=jblueleft, 
      leftrule=0pt, toprule=0pt,
      colbacktitle=jblueleft,
      coltitle=white,
      coltext=black,
      enhanced,
      breakable,
      boxed title style={colframe=jblueleft, sharp corners},
      attach boxed title to top left,
      before title={Teorema~},
      after title={:},    fonttitle=\bfseries,fontupper=\normalsize}{theorem}

\newtcolorbox{convention}{
      enhanced,
      breakable, 
      boxrule=0pt,
      frame hidden,
      colback=jblueinner,
      coltitle=jblueleft,
      attach title to upper={\ },
      sharp corners,
      title={Convención:},
      fonttitle=\bfseries,fontupper=\normalsize}

\newtcolorbox{importante}{
      fontupper = \color{white},
      theorem style=break,
      rounded corners,
      arc = 6pt,
      colback = jblueleft!80,
      colframe = jblueleft, 
      boxrule = 0pt,
      bottomrule = 4.5pt,
      enhanced,
      title={Nota:},
      fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35},
      fonttitle=\bfseries}

\newtcolorbox{commentary}{
      fontupper = \color{white},
      theorem style=break,
      rounded corners,
      arc = 6pt,
      colback = jblueleft!80,
      colframe = jblueleft,
      boxrule = 0pt,
      bottomrule = 4.5pt,
      enhanced,
      title={Comentario:},
      fuzzy shadow = {0pt}{-3pt}{-0.5pt}{0.5pt}{black!35},
      fonttitle=\bfseries}

\newtcbtheorem{notation}{}{
      enhanced,
      breakable,
      boxrule=0pt,
      frame hidden,
      colback=jblueinner,
      coltitle=jblueleft,
      attach title to upper={\ },
      sharp corners,
      before title={Notación},
      after title={:},
      fonttitle=\bfseries,
      fontupper=\normalsize}{notation}

\newtcolorbox{BOX}{
      enhanced,
      breakable,
      boxrule=0pt,
      frame hidden,
      colback=jblueinner,
      coltitle=jblueleft,
      attach title to upper={\ },
      sharp corners,
      after title={:},
      fonttitle=\bfseries,
      fontupper=\normalsize}

%------------------------------------------------------------------------------
%	QUÍMICA 
%------------------------------------------------------------------------------

\usepackage{chemfig}
  \setchemfig{
	chemfig style={line width=0.06642 em},  % 'Grosor de linea'
	angle increment=30,
	double bond sep=0.35700 em,  % 'Espaciado de enlace'
	atom sep=1.78500 em,  % 'Longitud fija'
	bond offset=0.18265 em  % 'Ancho de margen'
  }
  \renewcommand*\printatom[1]{\small\ensuremath{\mathsf{#1}}}

%------------------------------------------------------------------------------
%	 CARGAR PAQUETES QUE NO FUNCIONAN CON OTROS PAQUETES
%------------------------------------------------------------------------------

\usepackage{tikz} % Necesario para dibujar formas (como círculos, cuadrados, etc.), y elementos de posición absolutos en la página
\usepackage{circuitikz,siunitx} %

\usepackage{qrcode}
\usepackage{multirow}
\usepackage{setspace}
\usepackage{array}
\usepackage{colortbl}
\usepackage{tabularx}
\usepackage{blkarray}
\usepackage{slashed}
\usepackage{color}
\usepackage{listings}
\usepackage{caption}
\usepackage{minitoc}
\usepackage{multicol}
\usepackage{bm}
\usepackage{imakeidx}

%------------------------------------------------------------------------------
%	 LIBRERÍAS DE TIKZ
%------------------------------------------------------------------------------

\usetikzlibrary{shapes}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{calendar}
\usetikzlibrary{mindmap}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{calc}
\usetikzlibrary{intersections}
\usetikzlibrary{decorations.pathreplacing}
\usetikzlibrary{matrix}
\usetikzlibrary{backgrounds}
\usetikzlibrary{fit}
\usetikzlibrary{3d}
\usetikzlibrary{graphs}
\usetikzlibrary{patterns,angles,quotes}
\usetikzlibrary{decorations.fractals}

\usepackage{nicematrix}
\usepackage{tasks}
\usepackage{cancel}
\usepackage{lipsum} % Genera texto aleatorio
\usepackage{verbatim}
\usepackage{ccicons}

%------------------------------------------------------------------------------
%	 PAQUETES ESPECIALES (PARA PDF)
%------------------------------------------------------------------------------

\usepackage{pdfpages} % Para agregar documentos PDF (algunas páginas o incluso todo un documento)


%\renewcommand{\theequation}{\arabic{equation}}

\newcommand{\demostracion}{\textcolor{jblueleft}{\textbf{Demostración:}}\\}

\usepackage{pgfplots}
\usepgfplotslibrary{colormaps}

% NÚMEROS ROMANOS %

\makeatletter
\providecommand*{\RN}[1]{\expandafter\@slowromancap\romannumeral #1@}
\providecommand*{\Rn}[1]{\romannumeral#1\relax}
\makeatother

\usepackage{qtree}

\usepackage{ifthen}

%------------------------------------------------------------------------------
%	 EMPIEZA DOCUMENTO
%------------------------------------------------------------------------------

\begin{document}
\pagestyle{empty}

\input{portada}

\newpage

~\vfill\hfill\begin{minipage}[l]{0.55\textwidth}
     \itshape Quiero expresar mi agradecimiento al Lic. Rubén Ramón Vargas Palomares, quien aparte de haber sido mi profesor, me permitió recopilar el presente trabajo.
\end{minipage}

\newpage
\,

\chapterimage{blue20.jpeg} % Imagen de encabezado de capítulo
\chapterspaceabove{6.75cm} % Espacio en blanco desde la parte superior de la página hasta el título del capítulo en las páginas del capítulo
\chapterspacebelow{7.25cm} % Cantidad de espacio en blanco vertical desde el margen superior hasta el comienzo del texto en las páginas de los capítulos

\renewcommand{\contentsname}{CONTENIDO}
\tableofcontents
\label{toc-contents}

%\listoffigures

\input{Chapters/prefacio}

\part[\vspace{-0.13cm}FUNDAMENTOS DE LA MATEMÁTICA DISCRETA]{FUNDAMENTOS DE LA MATEMÁTICA DISCRETA}

\pagestyle{fancy}

\input{Chapters/capitulo1}

\input{Chapters/capitulo2}

\input{Chapters/capitulo3}

\input{Chapters/capitulo4}

\input{Chapters/capitulo5}

\input{Chapters/capitulo6}

\input{Chapters/capitulo7}

\input{Chapters/capitulo8}

\part*{\vspace{-0.13cm}APÉNDICES}

\appendix

\input{Appendices/induccion}

\input{Appendices/computadora}

\input{bibliografia}

\end{document}